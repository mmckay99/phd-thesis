\chapter{Literature review}
\label{c:lit_review}

\section{Introduction}

Models involving agents that form coalitions appear in a variety of settings, and terminology varies depending on the context and application. In this chapter we give an overview of the existing models in which a set of agents is to be partitioned into disjoint coalitions based somehow on the preferences of those agents, with a focus on models related to fixed-size coalitions and in particular Three-Dimensional Roommates (3DR). We shall present models that appear across the literature of computing science, economics, and game theory. For many concepts, the notation and terminology used varies between fields, even when the underlying concept is the same.

In Section~\ref{sec:lit_review_hedonicgames}, we cover models of coalition formation in which coalitions need not have a fixed size. Models of this type are almost always defined as \emph{hedonic games}, which are the subject of a sizeable area of research. Many of the concepts and terminology associated with hedonic games are also used in other models of coalition formation, some of which we consider subsequently. For this reason we consider these models first.

In Section~\ref{sec:lit_review_matchingunderpreferences}, we cover models of coalition formation in which a restriction exists on the sizes of possible coalitions. In most of the existing models of this type, for example in the \emph{Stable Roommates problem} (SR), the restriction is that any feasible coalition has some fixed size. The terminology used in the literature to refer to these models can vary. For the sake of consistency, we standardise terminology. For example, we use the term ``matching'', meaning a set of coalitions, while other authors use the terms \emph{assignment}~\cite{NH91} or \emph{partition}~\cite{CR01} for a similar purpose.

% Such models include classical models of matching under preferences, such as the Stable Roommates problem and its three-dimensional generalisation.

% \section{Coalitions of arbitrary size}
% \label{sec:lit_review_arbitrarysize}

\section{Hedonic games and stable partitions}
\label{sec:lit_review_hedonicgames}

A well-studied model of coalition formation is the \emph{hedonic game}. The defining characteristic of a hedonic game is \emph{hedonic preferences}. Generally speaking, hedonic preferences mean that ``every agent only cares about which agents are in its coalition, but does not care how agents in other coalitions are grouped together''~\cite{HedonicGamesHOCSC,DG80}. This contrasts with other so-called co-operative games that involve divisible goods, which are shared among the agents based on the coalitions formed. \emph{The Handbook of Computational Social Choice}~\cite{HedonicGamesHOCSC} defines a hedonic game as follows:
%
\begin{mydefinitionofhedonicgame}[Hedonic game]
\begin{adjustwidth}{8pt}{8pt}
\label{def:lit_review_hedonicgamehocs}
Let $N$ be a finite set of agents. A \emph{coalition} is a non-empty subset of $N$. Let $\mathcal{N}_i = \{ S \subseteq N : i \in S\}$ be the set of all coalitions (subsets of $N$) that include agent $i\in N$. A \emph{coalition partition} $\pi$ is a partition of the agent set $N$ into disjoint coalitions. A \emph{hedonic game} or \emph{hedonic coalition formation game} is a pair $(\mathcal{N}, \succsim)$, where $\succsim$ is a \emph{preference profile} that specifies for every agent $i\in N$ a reflexive, complete, and transitive relation $\succsim_i$ on $\mathcal{N}_i$. We call $\succsim_i$ a \emph{preference relation}.
\end{adjustwidth}
\end{mydefinitionofhedonicgame}
%
An \emph{instance} of a hedonic game is a specific set of agents and a preference profile $\succsim$. The exact representation of $\succsim$ can vary. For example, one possibility is that for each agent $i$, $\succsim_i$ is an ordered list containing every possible coalition in $\mathcal{N}_i$. For some partition $\pi$ and some agent $i$, we denote by $\pi(i)$ the coalition containing $i$. For any two agents $i$ and $j$, if $j \in \pi(i)$ then we say that $i$ is a \emph{partner} of $j$. For some agent $i$ and any two coalitions $S$ and $T$ in $\mathcal{N}_i$, we write $S \sim_i T$ if $S \succsim_i T$ and $T \succsim_i S$ and write $S \succ_i T$ if $S \succsim_i T$ and $T \not\succsim_i S$. If $S \succsim_i T$ then we say that $i$ \emph{weakly prefers} $S$ to $T$. If $S \sim_i T$ then we say that $i$ is \emph{indifferent} between $S$ to $T$. If $S \succ_i T$ then we say that $i$ \emph{strictly prefers} $S$ to $T$. For some agent $i$ and any coalition $S$, if $S \succsim_i T$ for any other coalition $T$ then we say that $S$ is one of $i$'s \emph{most-preferred} coalitions. Each agent's preference between two coalition partitions depends only on their assigned coalition in each, so for any agent $i$ and coalition partitions $\pi$ and $\pi'$, we write $\pi \succsim_i \pi'$ if $\pi(i) \succsim_i \pi'(i)$, $\pi \succ_i \pi'$ if $\pi(i) \succ_i \pi'(i)$, and $\pi \sim_i \pi'$ if $\pi(i) \sim_i \pi'(i)$.

In a given hedonic game, we may ask if there exists a coalition partition in which each agent is satisfied. In formal terms, we may consider the existence of a coalition partition that meets some fixed \emph{solution concept}. One well-studied solution concept is \emph{individual rationality}. We say that coalition partition $\pi$ is \emph{individually rational} if there exists no agent $i$ who strictly prefers the \emph{individual coalition} $\{i\}$ to $\pi(i)$. Some other relevant solution concepts are:
\begin{itemize}
    \item \emph{Perfection}. A coalition partition is \emph{perfect} if each agent belongs to one of its most-preferred coalitions~\cite{ABH11}. This is a very strong solution concept and in general, a given hedonic game need not contain a perfect partition~\cite{HedonicGamesHOCSC}.
    \item \emph{Pareto optimality}. Given coalition partitions $\pi$ and $\pi'$, we say $\pi'$ \textit{Pareto dominates} $\pi$ if $\pi' \succsim_i \pi$ for each agent $i \in N$ and there exists some agent $j\in N$ where $\pi' \succ_j \pi$. A coalition partition $\pi$ is \textit{Pareto optimal} if no coalition partition exists that Pareto dominates $\pi$~\cite{AzizLang2016}.
    \item \emph{Core stability} (also known as \emph{stability}). We say coalition partition $\pi$ is \emph{core stable} if no set of agents $S\subseteq N$ exists such that $S \succ_i \pi(i)$ for each agent $i \in S$. In other words, no set of agents have a common incentive to deviate from the coalition partition and form a new coalition. If such a set $S$ exists then we call it a \emph{blocking coalition}.
    \item \emph{Envy-freeness}. Suppose we are given some coalition partition $\pi$. If there exists some pair of agents $i, j \in N$ where $\pi(i) \neq \pi(j)$ and $i$ strictly prefers $(\pi(j) \setminus \{ j \}) \cup \{ i \}$ to $\pi(i)$ then we say that $i$ \emph{has envy for} $j$. We say that $\pi$ is \emph{envy-free} if no such pair exists~\cite{AZIZ2013316}.
    \item \emph{Justified envy-freeness}. Suppose we are given some coalition partition $\pi$. If there exists some pair of agents $i, j \in N$ where $i$ envies $j$ and $(\pi(j) \setminus \{ j \}) \cup i \succ_k  \pi(j)$ for each agent $k \in \pi(j) \setminus \{ j \}$, then we say that $i$ \emph{has justified envy for} $j$. In other words, $i$ envies $j$ and each partner of $j$ in $\pi$ would be strictly better off if $i$ were to replace $j$ in $\pi(j)$. We say that $\pi$ is \emph{justified envy-free} if no such pair exists~\cite{BY19}.
    \item \emph{Weakly justified envy-freeness}. Suppose we are given some coalition partition $\pi$. If there exists some pair of agents $i, j \in N$ where $i$ envies $j$ and $(\pi(j) \setminus \{ j \}) \cup i \succsim_k  \pi(j)$ for each agent $k \in \pi(j) \setminus \{ j \}$, then we say that $i$ \emph{has weakly justified envy for} $j$. In other words, $i$ envies $j$ and each partner of $j$ in $\pi$ would be weakly better off if $i$ were to replace $j$ in $\pi(j)$. We say that $\pi$ is \emph{weakly justified envy-free} if no such pair exists~\cite{BY19}.
\end{itemize}
Some solution concepts generalise others. For example, by definition any coalition partition that is core stable must also be individually rational, and any perfect partition must also satisfy all of the other concepts that we have described. In fact, a remarkable hierarchy of solution concepts exists~\cite{HedonicGamesHOCSC,AZIZ2013316,BY19}. Part of this hierarchy, involving the seven solution concepts described so far, is illustrated in Figure~\ref{fig:lit_review_hgsolutionconcepts}.

\begin{figure}
    \centering
    \input{figures/lit_review/hierarchy.tikz}
    \caption[Part of the known hierarchy of solution concepts in hedonic games]{Part of the known hierarchy of solution concepts in hedonic games. In the diagram, an arrow points from one concept to another if any partition that satisfies the former must also satisfy the latter. Adapted from the \emph{Handbook of Computational Social Choice}~\cite{HedonicGamesHOCSC}.}
    \label{fig:lit_review_hgsolutionconcepts}
\end{figure}

A wide range of solution concepts have been proposed and studied in the setting of hedonic games. Many (such as Pareto optimality) have roots in game theory and economics~\cite{HedonicGamesHOCSC}. In a well-cited 2013 article, Aziz et al.~\cite{AZIZ2013316} considered a variety of solution concepts and applied them to a specific type of hedonic game. One such concept is \emph{popularity}. They defined a popular partition $\pi$ as a partition in which for every alternative partition $\pi'$, the number of agents that prefer $\pi'$ to $\pi$ is at least the number of agents that prefer $\pi'$ to $\pi$. We shall discuss later (in Sections~\ref{sec:lit_review_multidimensionalmatching} and~\ref{sec:lit_review_othermodels}) some other research that involves popular partitions.

In some hedonic games, it is assumed that the agents' preferences have some additional structure, which dictates the representation of the preference profile $\succsim$. For example, it may be that a hedonic game models agents in the real world whose preference between coalitions is based on some underlying preference over the agents themselves. The exact representation of $\succsim$ is also important when considering computational aspects of hedonic games.

The simplest system of preference representation is to suppose that each agent has a \emph{preference list} over the $2^{|N|-1}$ possible coalitions in $\mathcal{N}_i$, in order from the most-preferred to the least-preferred. This system is known as \emph{lists of coalitions} (\mysymbolfirstusedefinition{symboldef:lc}{LCs})~\cite{EW09}. In the literature, unless otherwise specified, it is usually assumed that agents provide LCs. Alternatively, agents might list only the coalitions from the most-preferred to the individual coalition, which is known as \emph{Individually Rational Lists of Coalitions} (\mysymbolfirstusedefinition{symboldef:irlc}{IRLCs})~\cite{EW09}. IRLCs might be used if the solution concept implies individual rationality, since no agent $i$ need ever consider a coalition partition less-preferred than the individual coalition $\{i\}$.

LCs and IRLCs involve \emph{ordinal} preferences, meaning that they describe a preference between alternatives but do not quantify the extent that one alternative may be preferred over another~\cite{AMUP}. If preferences do involve such a quantification then they are \emph{cardinal}. For example, we could assume that each agent $i$ assigns a numeric valuation to every possible coalition in $\mathcal{N}_i$.

% Other systems of preference representation, such as \emph{anonymous preferences}~\cite{HOCSC16}, are very simple. Using anonymous preferences, each agent provides a preference list over possible coalition sizes, of length $|N|$. Given two coalitions of different sizes, an agent strictly prefers the coalition whose size appears earlier on their preference list and is otherwise indifferent.

For some applications LCs or IRLCs may not be practical since they require agents to list up to $2^{|N|-1}$ possible coalitions. For example, consider a hedonic game model used by 50 cooperative robots~\cite{IJangHedonicGamesRobots2018}. Using LCs might involve each robot listing ${\sim}\num{5.6e+14}$ coalitions, which is likely to be challenging in practice. In such an application, it might be better to assume that the agents' preferences have a specific structure. For example, we could assume that each agent has a preference list over the other (individual) agents. We say that this representation is more succinct since each preference list has length $|N| - 1$. This representation might also reflect a natural structure in the preferences of real people~\cite{CH02}.

To formalise such a hedonic game, in which agents have preference lists over the other agents, we must be able to infer from each agent's preference list a preference over coalitions. One way to do this systematically is to use a \emph{set extension rule}. Set extension rules have been well studied outside the context of coalition formation, both in general~\cite{BBP04} and in other areas of computational social choice, such as multi-winner voting~\cite{AzizLang2016}. A number of set extension rules have been considered in the hedonic games literature, which we shall introduce shortly.

We first introduce some new notation. For an agent $i$ let $P_i$ be a preference list over other (individual) agents. Thus, $P_i$ describes a strict weak order $\succsim_i$ over $N\setminus \{ i \}$. For any two agents $j$ and $k$ we say that $i$ \textit{prefers} $j$ to $k$, denoted by $j \succ_i k$, if $j$ precedes $k$ in $P_{i}$. It may be that the preference list $P_i$ contains \emph{ties}. A tie is a set of agents $T \subseteq N \setminus \{ i \}$ where $j \sim_i k$ for any pair of agents $j, k \in T$ and, for any $l \in T$ and $m \in N \setminus (T \cup \{ i \})$, either $l \succ_i m$ or $m \succ_i l$. If a preference list contains no ties then we say it is \emph{strict}. Strict preference lists therefore represent a \emph{total order}. Given a set of agents $S$ and an agent $i$ where $i \notin S$, let $\mathscr{W}_i(S)$ be the least-preferred agent in $S$ according to $P_i$ (or an arbitrary least-preferred agent if $P_i$ contains ties). We define $\mathscr{B}_i(S)$ analogously, as the most-preferred agent in $S$ according to $P_i$ (or an arbitrary most-preferred agent if $P_i$ contains ties).

We now introduce two well-known set extension rules, in which an agent compares two coalitions based on either the most-preferred or least-preferred agent in each coalition. Using \emph{$\mathscr{W}$-preferences}~\cite{CH04}, each agent $i$ prefers some coalition $S$ to another coalition $T$ if $\mathscr{W}_i(S) \succ_i \mathscr{W}_i(T)$, and is otherwise indifferent. A related set extension rule is \emph{$\mathscr{B}$-preferences}~\cite{CR01}, in which $i$ prefers $S$ to $T$ if $\mathscr{B}_i(S) \succ_i \mathscr{B}_i(T)$. Usually an additional rule is added, so that $i$ prefers $S$ to $T$ if either $\mathscr{B}_i(S) \succ_i \mathscr{B}_i(T)$, or $\mathscr{B}_i(S) \sim_i \mathscr{B}_i(T)$ and $|S| < |T|$. Hajdukov\'a~\cite{Haj06} noted the motivation for this additional rule: if there is no condition placed on the cardinalities of $S$ and $T$ then, given an arbitrary instance of a hedonic game using $\mathscr{B}$-preferences, the \emph{grand coalition partition} $\{ N \}$ is a perfect partition.

Cechl\'arov\'a and Hajdukov\'a~\cite{CH02} reason that a strong motivation for studying $\mathscr{W}$- and $\mathscr{B}$-preferences in hedonic games comes from more general work of Kannai and Peleg~\cite{KANNAI1984172} in social choice. Motivated by voting theory, Kannai and Peleg demonstrate that any set extension rule that satisfies two natural axioms makes any agent $i$ indifferent between any set $S$ and $\{\mathscr{B}_i(S),\mathscr{W}_i(S) \}$. Barber\`a, Bossert, and Pattanaik discuss this result and some related work in 
\emph{Ranking Sets of Objects}, Chapter 17 of the \emph{Handbook of Utility Theory}~\cite{BBP04}. It remains open whether Kannai and Peleg's axiomatic result can be further applied to the setting of hedonic games.

Another popular system is \emph{additively separable preferences}, which are the defining characteristic of an \emph{Additively Separable Hedonic Game} (\mysymbolfirstusedefinition{symboldef:ashg}{ASHG}) \cite{BKS01,Olsen2007}. Additively separable preferences are a form of cardinal preferences and can be defined in terms of \emph{valuation} functions. Each agent $i$ has a valuation function $v_i(j) : N \setminus \{ i \} \mapsto \mathbb{R}$ (where $\mathbb{R}$ is the set of real numbers). Given an agent $i$ and a set of agents $S\subseteq N$, we say that agent $i$ has \emph{utility} $u_i(S)=\sum_{j\in S\setminus \{ i \}} v_i(j)$ in $S$. For two coalitions $S$ and $T$, we define $S\succ_i T$ if $u_i(S) > u_i(T)$ and $S \sim_i T$ if $u_i(S) = u_i(T)$. Let $u_{i}(\pi)$ be short for $u_{i}(\pi(i))$. We also define the \emph{utilitarian welfare} of a partition $\pi$ as $u(\pi) = \sum_{i \in N} u_i(\pi)$. Various other measures related to ``welfare'' have been defined in ASHGs~\cite{AZIZ2013316}. Additively separable preferences generalise \emph{separable preferences}~\cite{Haj06}, which can be defined as a restriction of additively separable preferences in which $v_i(j)\in\{-1,0,1\}$ for any two agents $i$ and $j$. We remark that a similar model to an ASHG has been studied as a \emph{Weighted Graph Game}~\cite{Deng94}.  It is also possible to define other restrictions of additively separable preferences. For example, we say that valuations are \emph{symmetric} if $v_i(j) = v_j(i)$ for any two agents $i$ and $j$. We say that valuations are \emph{binary} (also termed \emph{simple}~\cite{ABBHOP19}) if $v_i(j) \in \{ 0, 1 \}$. Similarly, we say that valuations are \emph{ternary} if $v_i(j) \in \{ 0, 1, 2 \}$. 

In a seminal 2002 article, Bogomolnaia and Jackson \cite{BJ02} focused on solution concepts in AHSGs that involve the movement of individual agents away from their assigned coalitions (such as individual rationality). They observed that, for some of these solution concepts, if preferences are symmetric then a satisfactory partition must exist. The proof of this observation follows from the fact that any agent's movement (or \emph{deviation}) produces a partition with strictly higher utilitarian welfare. This type of proof has since been termed a ``potential function'' argument \cite{HedonicGamesHOCSC}. Since 2002, similar arguments have since been used to show new results in some other types of hedonic games \cite{BrandtBullingerWilczynski2021}.

In 2007, Huang~\cite{Huang07conference} proposed a restricted variant of additively separable preferences called \emph{Precedence by Ordinal Number} (PON), which is related to Borda scores~\cite{HedonicGamesHOCSC}. In PON, each agent has an ordinal preference list, and $v_i(j)$ is defined to be the rank, beginning from one, of $j$ in the preference list of $i$.

Another variant of additively separable preferences is \emph{fractional preferences}, in which the utility of a coalition is based on the average valuation over all agents in that coalition. Aziz et al.~\cite{ABBHOP19} presented an extensive survey of so-called \emph{Fractional Hedonic Games} (FHGs) in 2019. We remark that if we require any feasible coalition to have a fixed size $k$, then the definitions of an ASHG and an FHG are effectively equivalent.

From an algorithmic perspective, there are three main computational problems associated with a given model of a hedonic game. The first is a decision problem known as the \emph{existence problem}. For some fixed solution concept, it asks if a given instance of a hedonic game contains a coalition partition meeting that concept. The second is the \emph{construction problem}, which is the search problem of either finding a coalition partition that meets a given solution concept or reporting that no such partition exists. The third is the \emph{verification problem}. For a fixed solution concept and fixed instance of a hedonic game, it asks if a given partition in that instance meets that concept. These three problems are closely related. For example, if the existence problem is $\NP$-complete, for some model of a hedonic game, then it follows immediately that the verification problem is solvable in polynomial time and the construction problem is $\NP$-hard.

The system of preference representation is particularly meaningful when considering these computational problems. Consider the core-stablility existence problem for a model of a hedonic game in which preferences are represented using IRLCs. Encoding the agents' preferences requires $O(2^{|N|})$ space, but since they form part of the problem input it is possible to scan every preference list in linear time with respect to the size of the input. This observation means that the corresponding verification problem belongs to the complexity class $\P$. Ballester~\cite{Bal04} showed that the corresponding existence problem is $\NP$-hard and thus $\NP$-complete. In some cases, more succinct systems of preference representation lead to $\coNP$-complete verification problems~\cite{CSEH2019} and $\Sigma_2^\P$-complete ($\NP^\NP$-complete) existence problems~\cite{WOEGINGER2013101,OBISY17}.

In research on the algorithmics of hedonic games, the goal is often to show that, for a given preference representation and solution concept, the verification, existence, or construction problems are either solvable in polynomial time or are computationally hard. For example, in 2001 Cechl\'arov\'a and Romero-Medina~\cite{CR01} considered the core-stability existence problem in hedonic game models (referred to as the \emph{Stable Partition problem}) using $\mathscr{B}$- and $\mathscr{W}$-preferences. They showed that for $\mathscr{B}$-preferences, a core stable partition must exist, and can be found in polynomial time. Later, in 2004, Cechl\'arov\'a and Hajdukov\'a considered the analogous model using $\mathscr{W}$-preferences. They showed that in that model, a core stable partition may not exist, but that a polynomial-time algorithm exists that can either find a core stable partition or report that none exist. Interestingly, even though the definitions of $\mathscr{B}$- and $\mathscr{W}$-preferences are similar, the algorithms used in both settings are significantly different. 

In 2004, Ballester~\cite{Bal04} showed that the existence problem is $\NP$-complete for a number of hedonic games involving systems of preferences in which agents have preference lists over all possible coalitions. In particular, he showed that in a hedonic game using LCs, the core-stability existence problem is $\NP$-complete.

In 2010, Sung and Dimitrov~\cite{SUNG2010635} studied the existence of core stable partitions in ASHGs. They showed that an ASHG may not contain a core stable partition and that the existence problem is strongly $\NP$-hard, but left open the question of whether it belongs to $\NP$. They also presented hardness results relating to other solution concepts in ASHGs. In their 2011 paper, Aziz et al.~\cite{AZIZ2013316} strengthened Sung and Dimitrov's result, showing that the core stability existence problem is strongly $\NP$-hard even when valuations are symmetric. In 2013, Woeginger~\cite{WOEGINGER2013101} resolved this open question and showed the existence problem is $\Sigma_2^\P$-complete.

In 2019, Gairing and Savani \cite{GairingSavani19} considered certain solution concepts in ASHGs with symmetric preferences, where for each solution concept a potential function argument can be used to show that a satisfactory partition always exists. They observed that all of the associated construction problems can be modelled as local search problems in the class $\PLS$. Notably, they showed that many are also $\PLS$-complete. These results are interesting because it is unlikely that any problem in $\PLS$ is $\NP$-hard (which would imply $\NP=\coNP$), but it is also believed that no $\PLS$-complete problem can be solved in polynomial time \cite{JohnsonPapaYanna88}.

In their 2019 article on FHGs, Aziz et al.~\cite{ABBHOP19} showed that a core stable partition may not exist in a given FHG, even when valuations are binary and symmetric, and that the corresponding existence problem is $\Sigma_2^\P$-complete. They also presented some positive results for FHGs with binary and symmetric preferences.

In their 2013 paper, Aziz et al.~\cite{AZIZ2013316} considered the existence of envy-free partitions in ASHGs. They noted that the \emph{singleton coalition partition} $\{ \{ \alpha_1 \}, \{ \alpha_2 \}, \dots, \{ \alpha_{|N|} \} \}$ is trivially envy-free and thus considered the existence of partitions that simultaneously satisfy envy-freeness as well as other solution concepts. 
In 2018, Ueda~\cite{Ued18} considered envy-freeness and justified envy-freeness in a hedonic game model using LCs. He observed in this model that both the singleton partition and the grand partition $\{ N \}$ are also envy-free, although there exist instances in which no ``non-trivial'' coalition partition is envy-free, and additional instances in which no non-trivial partition is justified envy-free. He also observed that core stability implies justified envy-freeness.
In 2019, Barrot and Yokoo~\cite{BY19} noted Ueda's observation and continued exploring the existence of coalition partitions that satisfy a combination of solution concepts, including envy-freeness, weakly justified envy-freeness, and justified envy-freeness. As well as some non-existence results for ASHGs, they also considered other models involving more general systems of preference representation. Notably, they presented results relating to the existence of such coalition partitions in a setting in which preferences either satisfy \emph{top responsiveness} or \emph{bottom responsiveness}, two restrictions already well-established in the hedonic games literature.

\section{Coalitions of restricted size}
\label{sec:lit_review_matchingunderpreferences}

\subsection{Two-dimensional matching and roommates}

Historically, most of the research involving fixed-size coalitions relates to models in which agents are to be paired into coalitions of size two. We call such models \emph{two-dimensional}. The study of such models is closely related to the area of \emph{matching under preferences}. In his 2013 book, Manlove~\cite{AMUP} presents a broad survey of the literature of matching under preferences. This area is also related to the concept of matching in graph theory~\cite{combinatorialwest}.

A seminal model of two-dimensional matching under preferences was introduced in 1962 by Gale and Shapley~\cite{GS62}. A set of applicants are applying individually to a set of colleges. Each applicant produces a strict preference list of colleges from most-preferred to least-preferred. Similarly, each college produces a strict preference list of students. Each college may offer multiple places but each student must apply to exactly one college. The authors considered how best to match applicants to college places. They asked if there exists an assignment of students to college places such that no two applicants $\alpha$ and $\beta$, assigned to colleges $A$ and $B$, constitute a \emph{blocking pair}, meaning that $\beta$ prefers $A$ to $B$, and $A$ prefers $\beta$ to $\alpha$. They called such an assignment a \emph{stable matching}, and provided an efficient algorithm that can construct a stable matching. Interestingly, they also showed that this algorithm is, in a sense, optimal for the applicants: ``every applicant is at least as well off under the assignment given \dots as he would be under any other stable assignment''. Although this problem is stated in terms of colleges and applicants, it is commonly referred to as the \emph{Hospitals-Residents problem} (HR)~\cite{AMUP}.

In the same paper, Gale and Shapley also considered the restriction of HR when hospitals admit exactly one student. They proposed a heterosexual marriage metaphor involving a set of $n$ men and $n$ women, who are to be matched into $n$ pairs. For this reason this problem is known as the \emph{Stable Marriage problem} (\mysymbolfirstusedefinition{symboldef:sm}{SM})~\cite{AMUP}. They also described a third problem, known as the \emph{Stable Roommates problem} (\mysymbolfirstusedefinition{symboldef:sr}{SR}), which can be defined as a generalisation of SM. In SR, there exists a single set of agents, who have strict preference lists over all other agents. The goal, as for SM, is to construct a matching in which no two agents prefer each other to their respective assigned partners~\cite{Irv85}. SR can thus be equivalently viewed as a hedonic game in which agents provide LCs (see Section~\ref{sec:lit_review_hedonicgames}) and any feasible coalition has size two. Gale and Shapley showed that, in contrast to HR (and SM), there exist instances of SR that contain no stable matching. In 1976, Knuth~\cite[Problem~12]{Knu97english} asked if a stable matching can be found in polynomial time in a given instance of SR. This question was finally resolved by Irving~\cite{Irv85} in 1985 who presented a polynomial-time algorithm that can decide if a given instance of SR contains a stable matching, and constructs one if so.

Since 1962, a multitude of research in economics and computing science has been influenced by concepts and theory from Gale and Shapley. The 2012 Nobel prize in Economic Sciences was awarded to Shapley and Roth~\cite{RothShapleyNobelPrize} for their work on the theory and application of matching under preferences. The citation describes Shapley's theoretical research, including the Gale-Shapley algorithm, and the practical work of Roth, who successfully applied this theory to the assignment of doctors to hospital positions in the USA.

Much research in the area of matching under preferences involves variants and generalisations of HR, SM and SR \cite{AMUP}. For problems that involve preference lists, one natural generalisation is to allow \emph{incomplete lists}. In general terms this means that for each agent certain alternatives in their preference list are unacceptable, meaning that in no feasible matching is any agent assigned an unacceptable alternative. The variant of SM with incomplete lists is known as SMI~\cite{AMUP}. In SMI, incomplete preference lists characterise unacceptable pairs of men and women. Thus, it may be impossible to produce a stable matching involving all men and all women, so we generalise the definition of a stable marriage and allow agents to be \emph{unmatched}, meaning they have no partner in a given matching. A blocking pair now consists of a man $m$ and a woman $w$ that find each other acceptable, where: (1) either $m$ is unmatched or $m$ prefers $w$ to his partner, and (2) either $w$ is unmatched or $w$ prefers $m$ to her partner. The definition of SRI is analogous. The introduction of incomplete preference lists in SMI and SRI, and in other problems of matching under preferences, has generated significant interest~\cite{AMUP}.

\subsection{Multidimensional matching of a multipartite agent set}
\label{sec:lit_review_multidimensionalmatching}

In this section we focus on problem models that involve matching a multipartite set of agents. An early model of this type was proposed in 1976 by Knuth~\cite[Problem~11]{Knu97english}, who asked if SM can be extended to three sets, for example men, women and dogs. It is not immediately clear how this should be done, and various different models have since been proposed. In all of them, a feasible coalition must contain exactly one man, one woman, and one dog, and thus have size three. We classify such models as \emph{three-dimensional}. A close connection also exists to the \emph{Three-Dimensional Matching} and \emph{Partition into Triangles} problems, which can both be stated in terms of graph theory and do not involve agents with preferences.  For general information on Three-Dimensional Matching and Partition into Triangles we recommend Garey and Johnson's classic textbook~\cite{GJ79}. 

An early formalism of Knuth's idea was proposed by Alkan~\cite{Alk88} in 1988. He proposed the following model (we update the terminology and notation). There exists a set $N$ of $3n$ agents and a preference list $P_{\alpha_i}$ for each agent $\alpha_i \in N$. Let $P$ be the collection of preference lists $P_{\alpha_i}$ for each agent $\alpha_i$. Each agent has one of three types, which are called \emph{man}, \emph{woman}, and \emph{dog}. There are $n$ agents of each type, and the agents of each type are labelled $U = \{ u_1, u_2, \dots, u_n \}$, $W = \{ w_1, w_2, \dots, w_n \}$, and $D =  \{ d_1, d_2, \dots, d_n \}$ respectively. A \textit{family} is a $3$-tuple $( u_i, w_j, d_k ) \in U\times W\times D$.  A \textit{matching} is a set of families where each agent in $N$ is contained in exactly one family. Given an agent $\alpha_i$ and a matching $M$, we denote by $M(\alpha_i)$ the family in $M$ that contains $\alpha_i$. Each agent's preference list $P_{\alpha_i}$ describes a strict order over every pair of agents containing one agent of each of the other two types. In other words, each agent has a strict preference over all possible coalitions that they may belong to. We say that each agent $u_i \in U$ \textit{prefers} a family $( u_i, w_j, d_k )$ to a family $( u_i, w_{j'}, d_{k'} )$ if $( w_j, d_k )$ precedes $( w_{j'}, d_{k'} )$ in $P_{u_i}$. Analogous statements are true for each $w_j \in W$ and each $d_k \in D$. Given a matching $M$, we say that a family $f$ is \textit{blocking} if each agent $\alpha_i$ in $f$ prefers their pair of partners in $f$ to their pair of partners in $M(\alpha_i)$. A matching is \textit{stable} if it does not contain a blocking family. Alkan presented an example instance of this model that contains no stable matching.

Seemingly independently of Alkan, Ng and Hirschberg~\cite{NH91} defined the same model in 1991 as the \emph{Three-Gender Stable Marriage problem} (\mysymbolfirstusedefinition{symboldef:threegsm}{3GSM}). They showed that, in contrast with (two-dimensional) SM, it is $\NP$-complete to decide if a given instance $(N, P)$ of 3GSM contains a stable matching. Subramanian \cite{Sub94} provided an alternative proof of this result in 1994, in a paper exploring an interesting relationship between certain stable matching problems and the so-called \emph{Network Stability} problem. As defined by Subramanian, a network is similar to a circuit (defined in the standard way) except its underlying graph need not be acyclic. The Network Stability problem asks if it possible to assign boolean values to the arcs in a given network such that all gates are simultaneously satisfied. In his book, Manlove \cite{AMUP} reviews Subramanian's results, and also discusses some related subsequent results on the relationship between stable matching and Network Stability.

In his 2007 paper, Huang~\cite{Huang07conference} proposed a variant of 3GSM in which each agent $u_i$ has a strict preference list over $W$ and a strict preference list over $D$, and compares two pairs $( w_j, d_k )$ and $( w_{j'}, d_{k'} )$ based on the sum of the ranks of $w_j$, $w_{j'}$, $d_k$, and $d_{k'}$ in these lists. Huang called this system \emph{Precedence by Ordinal Number} (PON, which we also discussed in Section~\ref{sec:lit_review_hedonicgames}). Huang also considered the restriction of 3GSM in which preferences are \emph{consistent}. In this system, each man $u_i$ has underlying strict preference lists, $P_{u_i}^W$ and $P_{u_i}^D$, over the agents in $W$ and $D$ respectively. For any man $u_i$, the strict preference list $P_{u_i}$, which is a total order over pairs, must be a linear extension of the product order over $W \times D$ with respect to $P_{u_i}^W$ and $P_{u_i}^D$. In other words, $(w_j, d_k) \succ_i (w_{j'}, d_{k'})$ if and only if either (1) $w_j$ precedes $w_{j'}$ in $P_{u_i}^W$ and $d_k = d_{k'}$, (2) $d_k$ precedes $d_{k'}$ in $P_{u_i}^D$ and $w_j = w_{j'}$, or (3) $w_j$ precedes $w_{j'}$ in $P_{u_i}^W$ and $d_k$ precedes $d_{k'}$ in $P_{u_i}^D$ \cite{AMUP}. Similar statements are true for each woman, who has underlying lists over the agents in $U$ and $D$, and each dog, who has two underlying lists over the agents in $U$ and $W$. Huang showed that, in a given instance of 3GSM in which preferences are either consistent, or are additively separable and follow the PON restriction, a stable matching may not exist and the associated decision problem is $\NP$-complete. Noting that in the PON variant agents may be indifferent between pairs of partners, he also proposed and studied a hierarchy of solution concepts related to stability. In each of the solution concepts, some number of agents in any blocking family $f$ need only be indifferent between $f$ and their assigned family. He showed that the existence problems relating to so-called \emph{strongly-stable}, \emph{super-stable}, and \emph{ultra-stable} matchings in the PON system are all also $\NP$-complete.

We remark that the idea of consistency is conceptually similar to the principle of \emph{monotonic preferences} (or synonymously, \emph{independence} \cite{BBP04}), one of the axioms studied by Kannai and Peleg \cite{KANNAI1984172} in 1984. It is also unclear whether Kannai and Peleg's result (discussed in Section~\ref{sec:lit_review_hedonicgames}) can be related to the specific setting of 3GSM.

Another special case of 3GSM was proposed by Danilov~\cite{Dan02}, in 2003. In this model, each man $u_i$ has an underlying preference list over the set of women $W$ and, in the preference list $P_{u_i}$ over $W \times D$, the pair $( w_j, d_k )$ precedes $( w_{j'}, d_{k'} )$ only if $w_{j}$ precedes $w_{j'}$ in the underlying list of $u_i$. Similarly, each woman $w_j$ has an underlying preference list over the set of men $U$, and in the preference list $P_{w_j}$ over $U \times D$, the pair $( u_i, d_k )$ precedes $( u_{i'}, d_{k'} )$ only if $u_{i}$ precedes $u_{i'}$ in the underlying list of $w_j$. No assumption is made about the preferences of the agents in $D$. Danilov showed that, in this case, Gale and Shapley's algorithm for SM can be used to find a stable matching.

In 2004, Boros et al.~\cite{BGJK04} considered another model that can also be defined as a special case of 3GSM. The authors noted that in Danilov's model the preferences are \emph{acyclic}, and proposed a model with \emph{lexicographically cyclic} preferences, in which the types have a cyclic order in which $U$ precedes $W$, $W$ precedes $D$, and $D$ precedes $U$. In this model, each man $u_i$ has an underlying preference list over $W\times D$, where $(w_j, d_k)$ precedes $(w_{j'}, d_{k'})$ in $P_{u_i}$ only if $w_j$ precedes $w_{j'}$ in the underlying list of $u_i$. Similarly, each woman $w_j$ has an underlying preference list over the set of dogs $D$, and in the preference list $P_{w_j}$ over $U \times D$, the pair $( u_i, d_k )$ precedes $( u_{i'}, d_{k'} )$ only if $d_k$ precedes $d_{k'}$ in the underlying list of $w_j$. Similarly, each dog $d_k$ has an underlying preference list over the set of men $U$, and in the preference list $P_{d_k}$ over $U \times W$, the pair $( u_i, w_j )$ precedes $( u_{i'}, w_{j'} )$ only if $u_i$ precedes $u_{i'}$ in the underlying list of $d_k$. Boros et al.\ showed that in this model a stable matching must exist if $n \leq 2$ but need not exist if $n \geq 3$. They also proposed another model of \emph{purely cyclic} preferences, which is very closely related but not, strictly speaking, a special case of 3GSM (since agents may be indifferent between families). This model has since been termed \emph{Three-Dimensional Stable Matching with Cyclic preferences} (3-DSM-CYC, sometimes 3DSM \cite{BM10} or c3DSM \cite{Pashkovich20}).

3-DSM-CYC can be defined identically to 3GSM except the preference list $P_{u_i}$ of each agent $u_i$ is over the individual agents in $W$ and is strict, the preference list $P_{w_j}$ of each agent $w_j$ is over the individual agents in $D$ and is strict, and the preference list  $P_{d_k}$ of each agent $d_k$ is over the individual agents in $U$ and is strict. As in the model of Boros et al.~\cite{BGJK04}, the types have a cyclic order in which $U$ precedes $W$, $W$ precedes $D$, and $D$ precedes $U$. In 3-DSM-CYC, each man $u_i \in U$ prefers any pair $( w_j, d_k )$ to any pair $( w_{j'}, d_{k'} )$ if $w_j$ precedes $w_{j'}$ in $P_{u_i}$, each woman $w_j \in W$ prefers any pair $( u_i, d_k )$ to any pair $( u_{i'}, d_{k'} )$ if $d_k$ precedes $d_{k'}$ in $P_{w_j}$, and each dog $d_k \in D$ prefers any pair $( u_i, w_j )$ to any pair $( u_{i'}, w_{j'} )$ if $u_i$ precedes $u_{i'}$ in $P_{d_k}$. A family $f$ is \emph{blocking} if each agent $\alpha_i$ in $f$ prefers the agent of the next type in $f$ to the agent of the next type in $M(\alpha_i)$ (with respect to the cyclic order).

Since 2004, 3-DSM-CYC has generated a great deal of interest, particularly in the area of matching under preferences. In their 2004 paper, Boros et al.~\cite{BGJK04} showed that if $n=3$ then a stable matching must exist, but left open the case for $n \geq 4$.

In 2006, Eriksson et al.~\cite{ESS06} extended this result to $n = 4$. They conjectured that, based on evidence from computer search, any instance $(N, P)$ of 3-DSM-CYC contains a stable matching. Moreover, they conjectured that the minimum number of stable matchings over all instances of size $n$ increases with $n$. In 2009, Bir\'o and McDermid~\cite{BM10} studied two variants of 3-DSM-CYC. One involved incomplete preference lists, which is known as 3-DSMI-CYC, and the other involved complete preference lists with ties. They showed that for both variants a stable matching may not exist and the associated decision problem is $\NP$-complete. In 2018, Escamocher and O'Sullivan~\cite{Escamocher2018} considered a restricted set of instances of 3-DSM-CYC in which all agents of one type have the same \emph{master} preference list. They showed that the number of stable matchings in such an instance is exponential in $n$. They combined this result with an empirical study, which indicated that such instances contain the fewest stable matchings among all instances of the same size. They therefore conjectured that the number of stable matchings in an arbitrary instance is in fact exponential in $n$. In 2019, Pashkovich and Poirrier~\cite{Pashkovich20} extended the result of Eriksson et al.\ and showed that if $n=5$ then a stable matching must exist. Pashkovich and Poirrier formulated instances of 3-DSM-CYC as instances of the \emph{Satisfiability} problem, and solved them using a SAT solver. 

Generalisations of 3-DSM-CYC that involve more than three types have also been studied. In 2016, Hofbauer~\cite{HOFBAUER201672} extended the result of Boros et al.~\cite{BGJK04} to show, for any $k \geq 3$, that any instance of $k$-DSM-CYC in which there are at most $k+1$ agents of each type contains a stable matching, which can be found in polynomial time.

Building on previous results involving incomplete preferences, Lam and Plaxton showed in 2019 that, contrary to all previous conjectures, for any $k \geq 3$ there exist a family of instances of $k$-DSM-CYC that contain no stable matching, and the associated existence problem is $\NP$-complete~\cite{Plaxton3DSMCYCJournal}. We remark that for $k=3$, Lam and Plaxton identified an instance with $n=90$ that contains no stable matching.

Nevertheless, $k$-DSM-CYC, and 3-DSM-CYC in particular, have continued to attract attention. In 2020, Pittel \cite{Pittel20} presented a probabilistic analysis of $k$-DSM-CYC, and showed that the expected number of stable matchings in a random instance increases with $n$ as $(n \log n)^{k - 1}$. In 2022, Lerner~\cite{Lerner22} made some interesting further discoveries. His main result was an example instance of 3-DSMI-CYC in which $n=3$ that contains no stable matching, and showed that this instance is minimal since any instance in which $n < 3$ must contain a stable matching. He also presented an instance of 3-DSM-CYC in which $n=20$ that contains no stable matching, leaving the existence of a smaller instance with no stable matching as an intriguing open problem.

Recently in 2022, Cseh and Peters~\cite{CsehPeters22} considered further solution concepts related to popularity in the models of 3-DSMI-CYC and 3-DSM-CYC. They presented a number of $\NP$-hardness results related to 3-DSMI-CYC and, notably, a polynomial-time algorithm for a special case of 3-DSM-CYC that can find a so-called \emph{$A\cup B$-popular matching} in a given instance of 3-DSM-CYC. Also in 2022, Cseh et al.~\cite{Cseh2022} presented a paper in which they develop, and then analyse, a collection of Constraint Programming models for 3-DSM-CYC. They also integrated models for problems involving fair matchings, for some common definitions of fairness.

\subsection{Multidimensional roommates}

Just as 3GSM and 3-DSM-CYC generalise (two-dimensional) SM to three dimensions, other models have been proposed that generalise SR to three (or more) dimensions. We classify such models, in which the set of agents is homogenous, as models of \emph{Three-Dimensional Roommates} (3DR). Other models involve coalitions of a fixed size $k \geq 3$ and have been referred to as \emph{multidimensional roommates}.

As defined originally, (two-dimensional) SR could be viewed as a hedonic game in which any feasible coalition has size two. The solution concept corresponds exactly to core stability (although research on SR predates much of the research on hedonic games and core stability). SR has since been generalised to higher dimensions which, in a similar way, correspond to hedonic games.

The earliest known model of this type is the \emph{Three-Person Stable Assignment problem} (\mysymbolfirstusedefinition{symboldef:threepsa}{3PSA}), which was proposed by Ng and Hirschberg~\cite{NH91} in 1991, as a counterpart to 3GSM. An instance of 3PSA comprises a set $N$ of $3n$ agents and a strict preference list $P_{\alpha_i}$ of each agent $\alpha_i$ over all pairs of agents in $N \setminus \{ \alpha_i \}$. Note that in terms of hedonic games, this system of preferences is equivalent to LCs (see Section~\ref{sec:lit_review_hedonicgames}). Let $P$ be the collection of preference lists  $P_{\alpha_i}$ for each agent $\alpha_i$. A \emph{triple} is an unordered set of three agents and that a \emph{matching} is a partition of $N$ into $n$ triples. Given an agent $\alpha_i$ and a matching $M$, we denote by $M(\alpha_i)$ the triple in $M$ that contains $\alpha_i$. For any agent $\alpha_i$ and two triples $r$ and $s$, we say that $\alpha_i$ prefers $r$ to $s$, denoted $r \succ_{\alpha_i} s$, if $r \setminus \{ \alpha_i \}$ precedes $s \setminus \{ \alpha_i \}$ in $P_{\alpha_i}$. Given a matching $M$, we say that a triple $t$ is \emph{blocking} if each agent $\alpha_i$ in $t$ prefers $t$ to $M(\alpha_i)$. A matching is \emph{stable} if it does not admit a blocking triple. Ng and Hirschberg proved that, as in the case of 3GSM, a given instance $(N, P)$ of 3PSA may not contain a stable matching and the associated existence problem is $\NP$-complete. We remark that, unlike a general hedonic game, a blocking triple has size three, so the verification problem for both variants is solvable in $O(|N|^3)$ time so this existence problem belong to $\NP$.

As well as the aforementioned work on 3GSM, in his 2007 paper Huang \cite{Huang07conference} considered two variants of 3PSA. In the first variant, he supposed that agents provide preference lists over pairs of agents (i.e.\ agents have LCs) that are \emph{consistent}. The definition of consistent preferences in 3PSA is analogous to the definition of consistent in 3GSM (discussed in Section~\ref{sec:lit_review_multidimensionalmatching}). In 3PSA, we say that preferences are consistent in an instance of 3PSA if each agent $\alpha_i$ has an underlying strict preference list $P'_{\alpha_i}$ over the agents in $N\setminus \{ \alpha_i \}$. For any agent $\alpha_i$, the strict preference list $P_{\alpha_i}$, which is a total order over pairs, must be a linear extension of the product order over $\{ \{ \alpha_j, \alpha_k \} : (\alpha_j, \alpha_k) \in (N \setminus \{ \alpha_i \})^2 \}$ with respect to $P'_{\alpha_i}$. In the second variant, he considers additively separable preferences under a PON restriction (see Section~\ref{sec:lit_review_hedonicgames}). He showed that, in a given instance of 3PSA in which the preferences are either consistent, or are additively separable and follow the PON restriction, a stable matching may not exist and the associated decision problem is $\NP$-complete. As in the case of 3GSM, Huang also showed that various existence problems relating to so-called strongly-stable, super-stable, and ultra-stable matchings are $\NP$-complete.

Later in 2007, Iwama et al.~\cite{IMO07} considered another closely-related three-dimensional generalisation of SR. They also considered stable matchings characterised by the absence of a blocking triple. They supposed that each agent $\alpha_i$ has an strict preference list $P_{\alpha_i}$ over all agents in $N \setminus \{ \alpha_i \}$, and defined implicitly a set extension rule that is similar to consistent preferences (as defined by Huang). In the model of Iwama et al., any agent $\alpha_i$ prefers some triple $r$ where $\alpha_i \in r$ to another triple $s$ where $\alpha_i \in s$ and $s \neq r$ if $r \setminus \{ \alpha_i \}$ precedes $s \setminus \{ \alpha_i \}$ in the product order $\{ \{ \alpha_j, \alpha_k \} : (\alpha_j, \alpha_k) \in (N \setminus \{ \alpha_i \})^2 \}$ with respect to $P_{\alpha_i}$. We remark that, like $\mathscr{B}$ and $\mathscr{W}$-preferences, this rule defines a partial order over possible coalitions even though each agent has a strict preference list over possible partners. Interestingly, this set extensmion rule is almost identical to the construction of a so-called power-ordered set from a partially ordered set as defined by Bossong and Schweigert~\cite{Bossong2006} the previous year, in the context of formalised decision making. In 2011, Delort, Spanjaard and Weng~\cite{committeeselectiondelort} applied the aforementioned \emph{Bossong-Schweigert extension} rule to the problem of committee forming, which is closely related to hedonic games. In 2015, Lang et al.~\cite{LRRSS15} applied a generalised version of the Bossong-Schweigert rule to a model of a hedonic game.

In 2008, Iwama et al.~\cite{IMO08} considered an optimisation problem using the same model as in their 2007 paper, and showed that it was $\APX$-hard.

In 2009, Arkin et al.~\cite{ABEOMP09} presented another variant of 3PSA called \emph{Geometric 3D-SR}. In this model, agents have additively separable preferences. The agents' valuations are derived from their relative positions in a metric space. The authors also defined a more general version of stability, specific to additively separable preferences, called $\alpha$-stability, in which an agent prefers one pair to another pair if the sum of relative distances to the agents in the first pair is at least $\alpha$ times smaller than that of the second pair. The authors showed that a $2$-stable matching always exists and can be found in polynomial time. They also presented an instance in which no ($1$\nobreakdash-)stable matching exists but left open the complexity of the corresponding existence problem. In 2013, Deineko and Woeginger~\cite{DEINEKO20131837} resolved this open question by showing that this existence problem is $\NP$-complete. In fact, Chen and Roy~\cite{chen2022euclidean} later strengthened this result (in 2022) to show that \emph{Geometric $k$D-SR} is $\NP$-complete even when the metric space is the Euclidean plane.

In 2014, Ostrovsky and Rosenbaum~\cite{ostrovskyrosenbaum2014} revisited both 3GSM and 3PSA. For each model they considered two related optimisation problems. The first, called \textit{Maximally Stable Matching} (MSM), involves finding a matching with the maximum number of non-blocking triples. The second, called \textit{Maximum Stable Sub-matching} (MSS), involves finding a \emph{sub-matching} that involves only a subset of the agents. The problem is to find a submatching of maximum size, i.e.\ involving as many agents as possible, which is stable when considering only blocking triples involving agents in the submatching. They showed, in the context of both 3GSM and 3PSA, that MSM and MSS are $\NP$-hard to approximate within some fixed constant factor (i.e.\ that they are $\APX$-hard~\cite{ACGKMP99}). Positively, they also described a simple greedy algorithm that returns constant factor approximations for both MSM and MSS for both 3GSM and 3PSA.

In 2020, Boehmer and Elkind~\cite{Boe20} considered a number of different models of \emph{multidimensional roommates}. In each model they supposed that the agents have \emph{types} and an agent's preference between two coalitions depends only on the proportion of agents of each type in each coalition. They showed that, for a number of different solution concepts, the related existence problems are $\NP$-hard, although also that many are solvable in linear time if the room size is a fixed constant. Notably, they presented an integer programming-based algorithm that can solve the stability existence problem in polynomial time.

Also in 2020, Bredereck et al.~\cite{Bre20} considered two variations of multidimensional roommates that involve either a \emph{master list} or \emph{master poset}, from which all the agents' preference lists are derived. In the case of a master list, each agent obtains their preference list by deleting from the master list any pair that contains themselves. Surprisingly, the authors discovered that a stable matching may not exist in this model even if all agents' preference lists are derived from a single master list. They presented two positive results relating to restrictions of the problem involving a master poset, although they also showed, for either a master list or master poset, that in general the stability existence problem is either $\NP$-hard or $\W[1]$-hard, in terms of three well-motivated parameters.

\subsection{Other models}
\label{sec:lit_review_othermodels}

Various other models have been proposed in the literature that involve coalitions of restricted, but not necessarily fixed, size. For example, some problem models only require the size of any feasible coalition to be within some lower and upper bound. In this section we review a selection of such models.

In 2011, Aziz et al.~\cite{ABH11} considered Pareto optimal coalition partitions, in a variety of hedonic game variants. In one variant, which has since been termed a \emph{flatmate game}, any coalition must have size at most three. They showed that the Pareto optimality existence problem is $\NP$-hard in this particular model. The authors also presented polynomial-time solvability results in a model involving $\mathscr{W}$-preferences and for a model in which the maximum size of any coalition is two. In 2020, Brandt and Bullinger~\cite{Brandt2020FindingAR} presented a paper studying the existence of popular partitions in a number of hedonic game variants, including flatmate games. They applied a variety of preference structures and presenting results relating to partitions that are popular, \emph{strongly popular}, and \emph{mixed popular} (a \emph{mixed popular partition} is in fact a distribution over coalition partitions).

In 2015, Wright and Vorobeychik~\cite{WrightV15} studied the \emph{Team formation problem}, an instance of which resembles an ASHG. Taking a game-theoretic approach, they assumed that agents act competitively and strategically. They compared four different algorithms in terms of so-called \emph{strategy-proofness}, welfare, and fairness, focussing on experimental performance rather than algorithmic complexity. Notably, their model includes constraints on the sizes of coalitions with a lower and upper bound.
Other research works, mostly in the fields of economics and operations research, have since studied the Team formation problem~\cite{yekta2018finding}.

In 2018, Sless et al.~\cite{Sless18} proposed a model that can be viewed as a type of ASHG with symmetric preferences. They argued that a strong practical motivation exists for considering coalitions of restricted size, and thus focused on the existence of coalition partitions that contain exactly $k$ coalitions, for some fixed $k \geq 1$. They presented a number of theoretical and empirical results relating to this model. They showed, using a connection to the so-called Min-$k$-Cut problem, that the problem of finding a partition with maximum utilitarian welfare can be solved in polynomial time in the restricted case in which $k$ is fixed and there are, in a precise sense, relatively few negative edges. Otherwise, they showed that this construction problem is $\NP$-hard. They also presented a polynomial-time solvability result for a problem in which a central organiser can add edges to the instance. Notably, they proposed a heuristic-based procedure for the problem of finding a core stable partition that maximises utilitarian welfare. They showed that this procedure performs well on instances derived from real-world data from social networks.

In 2019, Cseh et al.~\cite{CSEH2019} considered Pareto optimal matchings in a general model that is comparable to a hedonic game. In this model there is a set of rooms with integer sizes, and any coalition must be allocated to exactly one room where the size of the room is exactly the size of the coalition. They studied two specific variants of this model, applying $\mathscr{B}$- and $\mathscr{W}$-preferences. They showed if $\mathscr{B}$-preferences are used and the agents' preference lists are strict then a polynomial-time algorithm based on serial dictatorship can be used to construct Pareto optimal matchings in polynomial time. They also showed that, in a number of other circumstances, a Pareto optimal matching may not exist and that in many cases the associated existence problems are either $\NP$-hard or $\NP$-complete.

In 2022, Li et al.~\cite{Li2022}, considered a model that can be viewed as a generalisation of multidimensional roommates with binary and symmetric additively separable preferences. Rather than a fixing the size of a coalition, a partition of the set of $n$ agents must be \emph{balanced}, meaning the number of coalitions $k\leq n$ is fixed and $\lfloor n/k \rfloor \leq |S| \leq \lceil n/k \rceil$ for any coalition $S$ in a feasible partition. They studied an approximation of envy-freeness, termed EF-$r$, in which the utility gained by any envious agent may be up to $r$ in a feasible partition, for some fixed $r \geq 0$ (our definition of envy-freeness is thus EF-$0$). Interestingly, they applied results from discrepancy theory to show that an approximate-envy free partition with a particular fixed asymptotic bound must exist, and can be found in polynomial time. They also considered restricted sets of instances, such those in which the underlying structure is a tree. They showed that in such an instance, an EF-$1$ partition must exist and can be found in polynomial time. A coalition partition of $3n$ agents in which every coalition has size three is by definition balanced, so some of the algorithmic results relating to approximate envy-free partitions~\cite[Theorems~9 and~10]{Li2022} also apply in a more restricted model of 3DR with additively separable preferences (such as the model that we define in Chapter~\ref{c:threed_sr_as}).

Also in 2022, Bil\`o et al.~\cite{Bilo22} proposed another model, which can be viewed as a type of ASHG. They analogized their model to a dinner party situation in which $n$ agents are assigned to exactly $k$ tables. They argued that Nash stability and core stability might not make sense in such a setting, since there is no free table. Instead, they considered three successively weaker solution concepts involving two agents that swap places. In a partition that is \emph{strictly swap stable}, no two agents $\alpha_i, \alpha_j$ exist where if $\alpha_j$ and $\alpha_j$ swap places then the utilities of both agents strictly increase. In a partition that is \emph{swap stable}, no two agents $\alpha_i, \alpha_j$ exist where if $\alpha_j$ and $\alpha_j$ swap places then the utility of $\alpha_i$ strictly increases and the utility of $\alpha_j$ does not decrease. In a partition $\pi$ that is \emph{swap stable under transferable utilities}, no two agents $\alpha_i, \alpha_j$ exist where if $\alpha_i$ and $\alpha_j$ swap places, in a new partition $\pi'$, then $u_{\alpha_i}(\pi') + u_{\alpha_j}(\pi') > u_{\alpha_i}(\pi) + u_{\alpha_j}(\pi)$. They remarked that a variation of these solution concepts had been previously studied in the context of the Stable Marriage problem as \emph{exchange stability}~\cite{Alc94}. We remark here that envy-freeness implies strict swap stability. In their paper, Bil\`o et al.\ show that for any of the three concepts, a feasible partition must exist and can be found by iteratively executing improving swaps from an arbitrary starting partition. Notably, they showed that the relevant existence problem is $\PLS$-complete in general but the iterative process converges in polynomial time if preferences are binary. They also analysed the problem of maximising utilitarian welfare, and the so-called \emph{price of anarchy}, and \emph{price of stability}, which are defined as follows. For any of the three stability concepts, the price of anarchy (stability) is the worst- (best-)case ratio between the utilitarian welfare of an arbitrary stable matching and the maximum possible utilitarian welfare over all possible partitions.

% \section{Integer Programming}

% \emph{Linear Programming} (LP) refers to a general-purpose technique to model and solve combinatorial optimisation problems~\cite{linearprogrammingvanderbei2020}. It involves modelling the problem using a set of variables, a set of linear inequalities (constraints), and a linear objective function. The model is referred to as a \emph{linear program}. Solving an arbitrary linear program means finding a matching of values to the variables that satisfies the constraints and maximises or minimises the objective function. There are practical algorithms to solve linear programs and in general solving an arbitrary linear program can be done efficiently~\cite{linearprogrammingvanderbei2020}. Some linear programming algorithms run in polynomial time.

% For many combinatorial problems a variation on LP is used in which the values of the variables must be integral in any feasible solution. This restriction is called \emph{Integer Linear Programming} (ILP, or simply IP). Unlike LP, solving a general integer program is $\NP$-hard~\cite{GJ79}. Nevertheless, a number of IP solvers exist, which are often efficient in practice and can be a practical way to find solutions to $\NP$-hard optimisation problems~\cite{Bixby12}. There is no general method to formulate an integer program to represent an arbitrary optimisation problem.  